# arXivè®ºæ–‡è·å–è„šæœ¬

ä½¿ç”¨ `app/services/ingestion.py` æœåŠ¡è·å–arXivè®ºæ–‡æ•°æ®ã€‚

## è„šæœ¬è¯´æ˜

### 1. `fetch_daily_papers.py` - æ—¥å¸¸è·å–
è·å–é»˜è®¤æ—¥æœŸï¼ˆä»Šå¤©ç¾ä¸œæ—¶é—´-3å¤©ï¼‰çš„è®ºæ–‡ã€‚

```bash
cd backend
python scripts/arxiv_ingestion/fetch_daily_papers.py
```

### 2. `fetch_papers_by_date.py` - æŒ‰æ—¥æœŸè·å–
æ”¯æŒè‡ªå®šä¹‰æ—¥æœŸè·å–è®ºæ–‡ã€‚

```bash
# ä½¿ç”¨é»˜è®¤æ—¥æœŸï¼ˆç¾ä¸œæ—¶é—´-3å¤©ï¼‰
python scripts/arxiv_ingestion/fetch_papers_by_date.py

# æŒ‡å®šå…·ä½“æ—¥æœŸ
python scripts/arxiv_ingestion/fetch_papers_by_date.py --date 2024-12-15

# è·å–Nå¤©å‰çš„è®ºæ–‡
python scripts/arxiv_ingestion/fetch_papers_by_date.py --days-ago 5
```

### 3. `fetch_no_proxy.py` - æ— ä»£ç†è·å– ğŸš«
ä¸“é—¨ç”¨äºç»•è¿‡ä»£ç†é—®é¢˜çš„è·å–è„šæœ¬ï¼Œå¼ºåˆ¶ç¦ç”¨æ‰€æœ‰ä»£ç†è®¾ç½®ã€‚

```bash
# æ— ä»£ç†è·å–ï¼ˆé»˜è®¤3å¤©å‰ï¼‰
python scripts/arxiv_ingestion/fetch_no_proxy.py

# æŒ‡å®šæ—¥æœŸæ— ä»£ç†è·å–
python scripts/arxiv_ingestion/fetch_no_proxy.py --date 2024-12-15

# è·å–Nå¤©å‰çš„è®ºæ–‡ï¼ˆæ— ä»£ç†ï¼‰
python scripts/arxiv_ingestion/fetch_no_proxy.py --days-ago 5
```

## ä»£ç†é—®é¢˜è§£å†³

### é—®é¢˜ç°è±¡
- `Unknown scheme for proxy URL URL('socks://127.0.0.1:7890/')`
- embeddingç”Ÿæˆå¤±è´¥

### è§£å†³æ–¹æ¡ˆ
1. **ä½¿ç”¨æ— ä»£ç†è„šæœ¬**: `fetch_no_proxy.py`
2. **è‡ªåŠ¨ç¦ç”¨ä»£ç†**: æ‰€æœ‰è„šæœ¬éƒ½å·²æ·»åŠ ä»£ç†ç¦ç”¨é€»è¾‘
3. **å¼ºåˆ¶ç›´è¿**: è®¾ç½® `NO_PROXY=*` ç¯å¢ƒå˜é‡

## æ—¥æœŸé€»è¾‘è¯´æ˜

### ä¸ºä»€ä¹ˆæ˜¯ç¾ä¸œæ—¶é—´-3å¤©ï¼Ÿ

1. **arXivå‘å¸ƒæ—¶é—´**: arXivåœ¨ç¾ä¸œæ—¶é—´æ¯å¤©20:00å‘å¸ƒæ–°è®ºæ–‡
2. **æäº¤å»¶è¿Ÿ**: è®ºæ–‡ä»æäº¤åˆ°å‘å¸ƒé€šå¸¸æœ‰1-3å¤©å»¶è¿Ÿ
3. **æ•°æ®å®Œæ•´æ€§**: ä½¿ç”¨-3å¤©ç¡®ä¿è·å–åˆ°å®Œæ•´çš„å½“æ—¥è®ºæ–‡

### æ—¶åŒºå¤„ç†

- **è¾“å…¥**: ç¾ä¸œæ—¶é—´ (America/New_York)
- **å­˜å‚¨**: UTCæ—¶é—´
- **æŸ¥è¯¢**: åŸºäºarXivçš„å‘å¸ƒæ—¶é—´é€»è¾‘

## åŠŸèƒ½ç‰¹ç‚¹

- âœ… è‡ªåŠ¨å¤„ç†æ—¶åŒºè½¬æ¢
- âœ… æ•°æ®è´¨é‡æ£€æŸ¥å’Œè¿‡æ»¤
- âœ… è‡ªåŠ¨ç”Ÿæˆè®ºæ–‡embedding
- âœ… å®Œæ•´çš„é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶
- âœ… è¯¦ç»†çš„æ‰§è¡Œæ—¥å¿—

## è¾“å‡ºä¿¡æ¯

è„šæœ¬ä¼šæ˜¾ç¤ºï¼š
- ç›®æ ‡æ—¥æœŸ
- è·å–çš„è®ºæ–‡æ•°é‡
- æ‰¹æ¬¡IDå’ŒæŸ¥è¯¢æ¡ä»¶
- æ‰§è¡Œæ—¶é—´å’ŒçŠ¶æ€

## ä¾èµ–æœåŠ¡

- `app.services.ingestion`: æ ¸å¿ƒè·å–æœåŠ¡
- `app.services.data_quality`: æ•°æ®è´¨é‡æ£€æŸ¥
- `app.services.embedding`: è®ºæ–‡embeddingç”Ÿæˆ
- arXiv API: è®ºæ–‡æ•°æ®æº
